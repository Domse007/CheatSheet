<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <link rel="stylesheet" href='main.css'>
        <meta charset="utf-8"/>

        <link rel="icon" href="favicons/favicon.ico" type="image/x-icon"/>

        <title>Cheat Sheet</title>
    </head>

    <body>
        <center>
            <header class = 'header'>
                <strong>
                    <h1>Cheat Sheet</h1>
                </strong>
            </header>
            <center>

                <div class="card-panel orange"; class="z-depth-4"; >
                    <center>
                            <a class="white-text"; href="index.html">Caesar</a> |
                            <a class="white-text"; href="OneTimePads.html">One Time Pads</a> |
                            <a class="white-text"; href="PublicKeyCryptography.html">Public Key Cryptography</a> |
                            <a class="white-text"; href="Bitcoin.html">Bitcoin</a> |
                            <a class="white-text"; href="code.html">Code erklärung</a>
                    </center>
                </div>

                <div class="card-panel white lighten-2"; class="z-depth-4";>
                    <h3 class="black-text">Einführung</h3>
                    <p class="black-text">Die Caesar Verschlüsselung ist eine von den Römern etwickeltes System, die Nachrichten inhalte zu verschlüsseln.</p>
                    <h3 class="black-text">Funktion</h3>
                    <p class="black-text">Sie funktioniert mit dem Verschieben der Stellung im Alphabet.</p>

                    <div>
                        <div class="z-depth-4"; class="black-text"; id="log";></div>

                        <input type="text" name="lname"; style="margin-left: 8%; width: 50%;"; id="inputencrypt">
                        <input type="text" name="lname"; style="width: 10%;"; id="inputnumberencrypt">

                        <button onclick="encrypt()"; class="waves-effect orange btn" ; id="buttonencrypt">Verschlüsseln</button>
                    </div>

                  

                    <h3 class="black-text">Sicher?</h3>
                    <p class="black-text">Leider ist die Caesar verschlüsselung nicht sehr sicher und kann spätestens nach 26 versuchen entschlüsselt.</p>

                    <div>
                        <div class="z-depth-4"; class="black-text"; id="log2";></div>

                        <input type="text" name="lname"; style="margin-left: 8%; width: 50%;"; id="inputdecrypt">

                        <button onclick="decrypt()"; class="waves-effect orange btn" ; id="buttonencrypt">Entschlüsseln</button>
                    </div>


                    <h3 class="black-text">Beschleunigung</h3>
                    <p class="black-text">Die entschlüsselung kann aber massiv beschleunigt werden, da es für jeden Buchstaben eine Häufigkeit hat, wie häufig er in einem Text vorkommt. Dies kann aber auch auf die verschlüsselte Version des Textes angewendet werden. So hat man bei längeren Texten eine sehr gute Wahrscheinlichkeit es beim ersten Versuch das ganze beim ersten Versuch lesbar zu entschlüsseln.</p>
                </div>

                <div class="card-panel orange"; class="z-depth-4";>
                    <center>
                        <p class="white-text">Created by Arianita Nuhiu, Anja Kyra Meyner and Dominik Keller</p>
                        <p class="white-text">Copyright belongs to Arianita Nuhiu, Anja Kyra Meyner and Dominik Keller</p>
                        <a class="white-text"; href="https://github.com/Domse007/CheatSheet"><u>Github Repository</u></a>
                    </center>
                </div>
    </body>
</html>


<script>

        function encrypt()
        {
            var encMsg = '';

            var msg = document.getElementById("inputencrypt").value;

            var key = document.getElementById("inputnumberencrypt").value;

            if(parseInt(key, 10) >= 0 && parseInt(key, 10) <= 26) {
                for(var i = 0; i < msg.length; i++)
                {
                    var code = msg.charCodeAt(i);

                    // Encrypt only letters in 'A' ... 'Z' interval
                    if (code >= 65 && code <= 65 + 26 - 1)
                    {
                        if(code + parseInt(key, 10) <= 90){
                            code = code + parseInt(key, 10);
                        }
                        else
                        {
                            code = code + (parseInt(key, 10) - 26);
                        }
                    }
                    else if(code >= 97 && code <= 97 + 26 - 1)
                    {
                        if(code + parseInt(key, 10) <= 122){
                            code = code + parseInt(key, 10);
                        }
                        else
                        {
                            code = code + (parseInt(key, 10) - 26);
                        }
                    }
                    encMsg += String.fromCharCode(code);
                }
                document.getElementById('log').innerHTML += `<div class="black-text"; style="margin-left: 5px;">Die Eingabe ist: ` + msg + `</div>`
                document.getElementById('log').innerHTML += `<div class="black-text"; style="margin-left: 5px;">Es wurde um so viele Stellen verschoben: ` + key + `</div>`
                document.getElementById('log').innerHTML += `<div class="black-text"; style="margin-left: 5px;"> Die verschlüsselte Ergebniss ist: ` + encMsg + `</div>`
            }
            else
            {
                document.getElementById('log').innerHTML += `<div class="black-text"; style="margin-left: 5px;">Keine validen eingaben.</div>`
            }
        };


        function decrypt()
        {
            var msg = document.getElementById("inputdecrypt").value;

            for(key = 25; key >= 0; key--){
                var encMsg = '';
                if(parseInt(key, 10) >= 0 && parseInt(key, 10) <= 26) {
                    for(var i = 0; i < msg.length; i++)
                    {
                        var code = msg.charCodeAt(i);

                        // Encrypt only letters in 'A' ... 'Z' interval
                        if (code >= 65 && code <= 65 + 26 - 1)
                        {
                            if(code + parseInt(key, 10) <= 90){
                                code = code + parseInt(key, 10);
                            }
                            else
                            {
                                code = code + (parseInt(key, 10) - 26);
                            }
                        }
                        else if(code >= 97 && code <= 97 + 26 - 1)
                        {
                            if(code + parseInt(key, 10) <= 122){
                                code = code + parseInt(key, 10);
                            }
                            else
                            {
                                code = code + (parseInt(key, 10) - 26);
                            }
                        }
                        encMsg += String.fromCharCode(code);
                    }
                    document.getElementById('log2').innerHTML += `<div class="black-text"; style="margin-left: 5px;">Verschiebung: ` + (26-key) + `; Ergebniss: ` + encMsg +`</div>`
                }
                else
                {
                    document.getElementById('log').innerHTML += `<div class="black-text"; style="margin-left: 5px;">Keine validen eingaben.</div>`
                }
            }
        };
       </script>